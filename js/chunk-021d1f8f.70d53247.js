(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-021d1f8f"],{2942:function(t,n,a){},"3afa":function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"find"},[a("div",{staticClass:"banner-box"},[a("Banner",{attrs:{bannerInfo:t.bannerInfo}})],1),a("div",{staticClass:"navbar-box"},t._l(t.iconData,(function(n,e){return a("div",{key:e,staticClass:"navbar-item",on:{click:function(a){return t.goCircle(n.go)}}},[a("div",{staticClass:"icon-item"},[a("img",{staticClass:"auto-img",attrs:{src:n.iconUrl,alt:""}})]),a("div",{staticClass:"title-text"},[t._v(t._s(n.name))])])})),0),a("div",{staticClass:"recommend-box"},[t._m(0),a("div",{staticClass:"recommend-content"},[a("ul",{staticClass:"clearfix"},t._l(t.recommendData,(function(n,e){return a("li",{key:e,staticClass:"recommend-item fl",on:{click:function(a){return t.selectRecommendId(n)}}},[a("div",{staticClass:"img-box"},[a("img",{staticClass:"auto-img",attrs:{src:n.picUrl}}),a("div",{staticClass:"playCount"},[t._m(1,!0),a("div",{staticClass:"count"},[t._v(t._s(t._f("Format")(n.playCount)))])])]),a("div",{staticClass:"desc"},[a("div",[t._v(t._s(n.name))])])])})),0)])]),a("div",{staticClass:"find-content"},[a("div",{staticClass:"newlist"},[t._m(2),a("div",{staticClass:"newlist-content"},[a("SongList",{attrs:{newsongs:t.newSongData},on:{getItem:t.getAudioItem}})],1)])])])},i=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"recommend-title clearfix"},[a("div",{staticClass:"fl"},[t._v("推荐歌单")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"icon"},[e("img",{staticClass:"auto-img",attrs:{src:a("49da")}})])},function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"newlist-top clearfix"},[a("div",{staticClass:"fl"},[t._v("最新音乐")]),a("div",{staticClass:"fr"},[t._v("...")])])}],s=(a("d81d"),a("fb6a"),a("5530")),c=(a("2942"),function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"banner"},[a("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"#ffef99",autoplay:"2000"}},t._l(t.bannerInfo,(function(n,e){return a("van-swipe-item",{key:e},[a("div",{staticClass:"img-box"},[a("img",{staticClass:"auto-img",attrs:{src:n.pic}}),a("div",{staticClass:"banner-title",style:{background:"red"==n.titleColor?"#ec4040":"#4a79cc"}},[a("div",{staticClass:"text"},[t._v(t._s(n.typeTitle))])])])])})),1)],1)}),o=[],r={name:"Banner",props:{bannerInfo:{type:Array}}},l=r,u=(a("c700"),a("2877")),d=Object(u["a"])(l,c,o,!1,null,"fe25cfee",null),f=d.exports,m=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"songlist"},[a("div",{staticClass:"songlist-box"},[a("van-swipe",{ref:"swipe",attrs:{loop:!1},on:{change:t.onChange}},t._l(t.newsongs,(function(n,e){return a("van-swipe-item",{key:e},t._l(n,(function(n,e){return a("div",{key:e,staticClass:"list-item",on:{click:function(a){return t.getCurrentItem(n)}}},[a("div",{staticClass:"img-box"},[a("img",{staticClass:"auto-img",attrs:{src:n.picUrl}})]),a("div",{staticClass:"desc"},[a("div",{staticClass:"clearfix song-info"},[a("div",{staticClass:"fl song-name"},[t._v(t._s(n.name))]),n.song.alias.length>0?a("div",{staticClass:"fl alias"},[t._v("("+t._s(n.song.alias[0])+")")]):t._e()]),a("div",{staticClass:"singer"},[t._v(t._s(n.singer))])]),a("div",{staticClass:"play-icon"},[a("van-icon",{attrs:{name:t.currentSong.id==n.id?"volume-o":"play-circle-o",color:t.currentSong.id==n.id?"#feef9a":"#fff",size:"20"}})],1)])})),0)})),1)],1)])},g=[],v=a("2f62"),p={name:"SongList",props:["newsongs"],data:function(){return{swiperItem:[]}},computed:Object(s["a"])({},Object(v["b"])(["currentSong","playing"])),methods:{onChange:function(t){var n=this;this.$nextTick((function(){for(var a=n.$refs.swipe.$el.querySelectorAll(".van-swipe-item"),e=0;e<a.length;e++)e==t?a[e].style.setProperty("width","9.1rem","important"):a[e].style.setProperty("width","9.46rem","important")}))},getCurrentItem:function(t){this.$emit("getItem",t)}}},h=p,b=(a("d020"),Object(u["a"])(h,m,g,!1,null,"45f954dc",null)),C=b.exports,A=a("d4ec"),w=a("bee2"),y=function(){function t(){Object(A["a"])(this,t)}return Object(w["a"])(t,[{key:"sliceArr",value:function(t,n){for(var a=[],e=0;e<Math.ceil(t.length/n);e++){var i=e*n,s=i+n;a.push(t.slice(i,s))}return a}}]),t}(),_=new y,S=a("beb2"),x={name:"Find",components:{Banner:f,SongList:C},data:function(){return{bannerInfo:[],navbarData:[{title:"歌单"},{title:"电台"},{title:"推荐"},{title:"推荐"}],recommendData:[],newSongData:[],iconData:[]}},computed:Object(s["a"])({},Object(v["b"])(["playing","playList"])),created:function(){this.getbannerImgs(),this.getIcon(),this.getRecommendSongList(),this.getnewSong()},methods:{getbannerImgs:function(){var t=this;this.axios({method:"GET",url:"/banner?type=2"}).then((function(n){var a=n.data.banners;200==n.data.code&&(t.bannerInfo=a)})).catch((function(t){}))},getIcon:function(){var t=this;this.axios({method:"GET",url:"/homepage/dragon/ball"}).then((function(n){if(200==n.data.code){var a=["List","Rank","","",""],e=n.data.data.slice(1,6);e.map((function(t,n){t.go=a[n]})),t.iconData=e}})).catch((function(t){}))},getRecommendSongList:function(){var t=this;this.axios({method:"GET",url:"/personalized",params:{limit:"6"}}).then((function(n){200==n.data.code&&(t.recommendData=n.data.result)})).catch((function(t){}))},getnewSong:function(){var t=this;this.axios({method:"GET",url:"/personalized/newsong",params:{limit:"9"}}).then((function(n){if(200==n.data.code){var a=n.data.result;a.map((function(t){t.islike=!1}));for(var e=S["a"].formatSingerName(a,"new"),i=0;i<a.length;i++)a[i].singer=e[i];t.newSongData=_.sliceArr(a,3)}})).catch((function(t){}))},getAudioItem:function(t){var n=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/song/url",params:{id:t.id}}).then((function(a){var e=a.data.data[0].url;200==a.data.code&&(n.$toast.clear(),t.songUrl=e,n.$store.commit("setCurrentSong",t),n.$store.commit("playStatus",!0),n.$store.dispatch("HandlePlayList",t))})).catch((function(t){n.$toast.clear()}))},selectRecommendId:function(t){this.$store.commit("setSongList",t);var n=t.id;this.$router.push({name:"MusicList",params:{id:n}})},goCircle:function(t){""==t?this.$toast("该功能开发中..."):this.$router.push({name:t})}}},I=x,k=Object(u["a"])(I,e,i,!1,null,null,null);n["default"]=k.exports},"49da":function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T73TsUpDQRCF4f/U9lpZ+D6pBH0DCxuxswpeMQRRMI2lWAYEtRAbQRQfQhDSBdKlEEEFEY4szMoSDHdtvO3ufHd29qwAbK8BO8AScAHsSnpNa22fAjgGUsETcAC8BHJTCzwAj5Ia28tAF9gAjgL6mAflDn6AvNH2ekBvgdz+hswFCmgAbAP9gL5KqBWIGS0C18An0Ei6z0gVUHSzClwCe8ChpPc/AQU0Au4kbf4vYDsf4QrYkjSp6sB2HuIKsC/ppHqItvM1DqP4ueoaiyAtAD1JZ1VBmonyafx13BblJjbkx5Syn856XvuYOilh8ZxTUFLL07bitP4N5r2bEZ3roykAAAAASUVORK5CYII="},"87d1":function(t,n,a){},"9fab":function(t,n,a){},b0c0:function(t,n,a){var e=a("83ab"),i=a("9bf2").f,s=Function.prototype,c=s.toString,o=/^\s*function ([^ (]*)/,r="name";e&&!(r in s)&&i(s,r,{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(t){return""}}})},beb2:function(t,n,a){"use strict";a.d(n,"a",(function(){return c}));a("d81d"),a("fb6a"),a("b0c0");var e=a("d4ec"),i=a("bee2"),s=function(){function t(){Object(e["a"])(this,t)}return Object(i["a"])(t,[{key:"formatSingerName",value:function(t,n){var a=[];"new"==n?t.map((function(t){a.push(t.song.artists)})):"list_song"==n&&t.map((function(t){a.push(t.ar)}));var e=[];return a.map((function(t){var n="";t.map((function(t){n+=t.name+"/"})),n=n.slice(0,n.length-1),e.push(n)})),e}}]),t}(),c=new s},c700:function(t,n,a){"use strict";a("87d1")},d020:function(t,n,a){"use strict";a("9fab")},fb6a:function(t,n,a){"use strict";var e=a("23e7"),i=a("861d"),s=a("e8b5"),c=a("23cb"),o=a("50c4"),r=a("fc6a"),l=a("8418"),u=a("b622"),d=a("1dde"),f=a("ae40"),m=d("slice"),g=f("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),p=[].slice,h=Math.max;e({target:"Array",proto:!0,forced:!m||!g},{slice:function(t,n){var a,e,u,d=r(this),f=o(d.length),m=c(t,f),g=c(void 0===n?f:n,f);if(s(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?i(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return p.call(d,m,g);for(e=new(void 0===a?Array:a)(h(g-m,0)),u=0;m<g;m++,u++)m in d&&l(e,u,d[m]);return e.length=u,e}})}}]);
//# sourceMappingURL=chunk-021d1f8f.70d53247.js.map