{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/Search.vue?b954","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?0d6a","webpack:///./src/views/Search.vue","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","ref","searchInput","search","model","value","callback","$$v","iptValue","expression","historyList","_v","empty","_l","item","index","key","$event","cloudsearch","_s","_e","directives","name","rawName","isSearch","searchWord","class","iconType","iconUrl","content","score","keyword","getItem","ar","currentSong","id","staticRenderFns","component","isRegExp","module","exports","it","TypeError","wellKnownSymbol","MATCH","METHOD_NAME","regexp","error1","error2","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","searchElement","apply","$includes","addToUnscopables","el"],"mappings":"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","file":"js/chunk-2f057ce6.89fb08c1.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"topnav\"},[_c('div',{staticClass:\"back\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"color\":\"#fff\",\"size\":\"20\"},on:{\"click\":_vm.goBack}})],1),_c('div',{staticClass:\"search-box\"},[_c('van-search',{ref:\"searchIpt\",attrs:{\"placeholder\":\"请输入搜索关键词\"},on:{\"input\":_vm.searchInput,\"search\":_vm.search},model:{value:(_vm.iptValue),callback:function ($$v) {_vm.iptValue=$$v},expression:\"iptValue\"}})],1)]),(_vm.historyList.length > 0)?_c('div',{staticClass:\"history-wrapper\"},[_c('div',{staticClass:\"title clearfix\"},[_c('div',{staticClass:\"fl\"},[_vm._v(\"历史搜索\")]),_c('div',[_c('div',{staticClass:\"fr remove-icon\"},[_c('van-icon',{attrs:{\"name\":\"delete\",\"size\":\"16\"},on:{\"click\":_vm.empty}})],1),_c('div',{staticClass:\"fr clear\"},[_vm._v(\"清空\")])])]),_c('div',{staticClass:\"history clearfix\"},[_c('div',{staticClass:\"history-box\"},_vm._l((_vm.historyList),function(item,index){return _c('div',{key:index,staticClass:\"history-item fl\",on:{\"click\":function($event){return _vm.cloudsearch(item)}}},[_vm._v(_vm._s(item))])}),0)])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isSearch),expression:\"!isSearch\"}],staticClass:\"hot-rank\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"热搜榜\")]),_vm._l((_vm.hotData),function(item,index){return _c('div',{key:index,staticClass:\"hot-item\",on:{\"click\":function($event){return _vm.cloudsearch(item.searchWord)}}},[_c('div',{staticClass:\"hot-index\",class:{'active': index<=2}},[_vm._v(_vm._s(index+1))]),_c('div',{staticClass:\"hot-info\"},[_c('div',{staticClass:\"song-name clearfix\"},[_c('div',{staticClass:\"fl\"},[_vm._v(_vm._s(item.searchWord))]),(item.iconType==1)?_c('span',{staticClass:\"type fl\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.iconUrl}})]):_vm._e()]),_c('div',{staticClass:\"song-desc\"},[_vm._v(_vm._s(item.content))])]),_c('div',{staticClass:\"hot-score\"},[_vm._v(_vm._s(item.score))])])})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSuggest),expression:\"isSuggest\"}],staticClass:\"search-suggest\"},_vm._l((_vm.searchMatch),function(item,index){return _c('div',{key:index,staticClass:\"suggest-msg\",on:{\"click\":function($event){return _vm.cloudsearch(item.keyword)}}},[_vm._v(_vm._s(item.keyword))])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSearch),expression:\"isSearch\"}],staticClass:\"search-match\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"单曲\")]),_vm._l((_vm.matchSong),function(item,index){return _c('div',{key:index,staticClass:\"song-item\",on:{\"click\":function($event){return _vm.getItem(item)}}},[_c('div',{staticClass:\"song-info\"},[_c('div',{staticClass:\"songname one-text\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(item.ar[0].name))])]),_c('div',{staticClass:\"play-icon\"},[(_vm.currentSong.id==item.id)?_c('van-icon',{attrs:{\"name\":\"volume-o\",\"color\":\"#feef9a\",\"size\":\"20\"}}):_c('van-icon',{attrs:{\"name\":\"play-circle-o\",\"size\":\"20\"}})],1)])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search\">\r\n    <!-- 顶部 -->\r\n    <div class=\"topnav\">\r\n      <div class=\"back\">\r\n        <van-icon name=\"arrow-left\" color=\"#fff\" size=\"20\" @click=\"goBack\" />\r\n      </div>\r\n      <div class=\"search-box\">\r\n        <van-search\r\n        ref=\"searchIpt\"\r\n        v-model=\"iptValue\"\r\n        placeholder=\"请输入搜索关键词\"\r\n        @input=\"searchInput\"\r\n        @search=\"search\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 搜索记录 -->\r\n    <div class=\"history-wrapper\" v-if=\"historyList.length > 0\">\r\n      <div class=\"title clearfix\" >\r\n        <div class=\"fl\">历史搜索</div>\r\n        <div>\r\n          <div class=\"fr remove-icon\"><van-icon name=\"delete\" size=\"16\" @click=\"empty\"/></div>\r\n          <div class=\"fr clear\">清空</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"history clearfix\">\r\n        <div class=\"history-box\">\r\n          <div class=\"history-item fl\" v-for=\"(item,index) in historyList\" :key=\"index\" @click=\"cloudsearch(item)\">{{item}}</div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- 热搜列表 -->\r\n    <div class=\"hot-rank\" v-show=\"!isSearch\">\r\n      <div class=\"title\">热搜榜</div>\r\n      <div class=\"hot-item\" v-for=\"(item,index) in hotData\" :key=\"index\" @click=\"cloudsearch(item.searchWord)\">\r\n        <div class=\"hot-index\" :class=\"{'active': index<=2}\">{{index+1}}</div>\r\n        <div class=\"hot-info\">\r\n          <div class=\"song-name clearfix\">\r\n            <div class=\"fl\">{{item.searchWord}}</div>\r\n            <span class=\"type fl\" v-if=\"item.iconType==1\"><img class=\"auto-img\" :src=\"item.iconUrl\"></span>\r\n          </div>\r\n          <div class=\"song-desc\">{{item.content}}</div>\r\n        </div>\r\n        <div class=\"hot-score\">{{item.score}}</div>\r\n      </div>\r\n      \r\n    </div>\r\n\r\n    <!-- 搜索建议 -->\r\n    <div class=\"search-suggest\" v-show=\"isSuggest\">\r\n      <div class=\"suggest-msg\" v-for=\"(item,index) in searchMatch\" :key=\"index\" @click=\"cloudsearch(item.keyword)\">{{item.keyword}}</div>\r\n    </div>\r\n\r\n    <!-- 搜索多重匹配 -->\r\n    <div class=\"search-match\" v-show=\"isSearch\">\r\n      <div class=\"title\">单曲</div>\r\n      <div class=\"song-item\" v-for=\"(item,index) in matchSong\" :key=\"index\" @click=\"getItem(item)\">\r\n        <div class=\"song-info\">\r\n          <div class=\"songname one-text\">{{item.name}}</div>\r\n          <div class=\"singer\">{{item.ar[0].name}}</div>\r\n        </div>\r\n        <div class=\"play-icon\">\r\n          <van-icon name=\"volume-o\" color=\"#feef9a\" size=\"20\" v-if=\"currentSong.id==item.id\"/>\r\n          <van-icon name=\"play-circle-o\"  size=\"20\" v-else />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\n  import '../assets/less/search.less'\r\n  import {mapState} from 'vuex'\r\n  export default {\r\n    name: 'Search',\r\n\r\n    data(){\r\n      return {\r\n        // 搜索框内容\r\n        iptValue: '',\r\n        isSearch: false,\r\n        isSuggest: false,\r\n        active: 0,\r\n\r\n        // 热搜榜\r\n        hotData: [],\r\n        // 搜索建议\r\n        searchMatch:[],\r\n        // 匹配的歌曲\r\n        matchSong: [],\r\n        // 历史记录\r\n        historyList: []\r\n      }\r\n    },\r\n\r\n    computed:{\r\n      ...mapState(['playing','playList','currentSong'])\r\n    },\r\n\r\n    created() {\r\n      // 获取热搜榜\r\n      this.getHot();\r\n      // 搜索框自动获取焦点\r\n      this.$nextTick(() => {\r\n        let input = this.$refs.searchIpt.querySelector('[type=\"search\"]');\r\n        input.focus();\r\n      })\r\n\r\n      // 初始化历史搜索列表\r\n      let historyList = localStorage.getItem('historyList');\r\n      if(!historyList){\r\n        return;\r\n      }else{\r\n        this.historyList = JSON.parse(historyList)\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      // 返回\r\n      goBack(){\r\n        this.$router.go(-1);\r\n      },\r\n      // 获取热搜榜单\r\n      getHot(){\r\n        this.axios({\r\n          methods: 'GET',\r\n          url: '/search/hot/detail',\r\n        })\r\n        .then(result => {\r\n          if(result.data.code == 200){\r\n            this.hotData = result.data.data;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          \r\n        })\r\n      },\r\n\r\n      // 搜索框内容发生变化 获取搜素建议\r\n      searchInput(){\r\n        // 判断输入内容是否为空或纯空格\r\n        let reg = /^[ ]+$/;\r\n        if(this.iptValue=='' || reg.test(this.iptValue)) {\r\n          this.iptValue = '';\r\n          this.isSuggest=false;\r\n          return;\r\n        }\r\n        this.isSuggest = true;\r\n        this.axios({\r\n          methods: 'GET',\r\n          url: '/search/suggest',\r\n          params: {\r\n            keywords: this.iptValue,\r\n            type: 'mobile'\r\n          }\r\n        })\r\n        .then(result => {\r\n          if(result.data.code == 200){\r\n            // \r\n            let data = result.data.result.allMatch;\r\n            this.searchMatch = data;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          \r\n        })\r\n      },\r\n\r\n      //回车搜索\r\n      search(){\r\n        // 判断输入内容是否为空或纯空格\r\n        let reg = /^[ ]+$/;\r\n        if(this.iptValue=='' || reg.test(this.iptValue)) {\r\n          this.$toast('请输入搜索内容');\r\n          this.iptValue = '';\r\n          return;\r\n        }\r\n\r\n        // 保存搜索记录\r\n        this.setHistory(this.iptValue);\r\n\r\n        this.isSuggest = false;\r\n        this.cloudsearch(this.iptValue);\r\n\r\n      },\r\n      \r\n      // 搜索多重匹配\r\n      cloudsearch(keyword){\r\n        this.setHistory(keyword);\r\n        this.iptValue = keyword\r\n        this.$toast.loading({\r\n          message: '加载中...',\r\n          forbidClick: true,\r\n          duration: 0\r\n        })\r\n        this.axios({\r\n          methods: 'GET',\r\n          url: '/cloudsearch',\r\n          params: {\r\n            keywords: keyword,\r\n          }\r\n        })\r\n        .then(result => {\r\n          if(result.data.code == 200){\r\n            this.$toast.clear();\r\n            // \r\n            this.isSearch = true;\r\n            this.isSuggest = false;\r\n            let data = result.data.result.songs;\r\n            this.matchSong = data;\r\n          }\r\n        })\r\n        .catch(err => {\r\n            this.$toast.clear();\r\n          \r\n        })\r\n      },\r\n\r\n      // 清空历史记录\r\n      empty(){\r\n        localStorage.removeItem('historyList');\r\n        this.historyList = [];\r\n      },\r\n\r\n      // 播放单曲\r\n      getItem(item){\r\n        \r\n        // 根据id获取最新音乐的url\r\n        this.$toast.loading({\r\n          message: '加载中...',\r\n          forbidClick: true,\r\n          duration: 0\r\n        })\r\n\r\n        this.axios({\r\n          method: 'GET',\r\n          url: '/song/url',\r\n          params: {\r\n            id: item.id\r\n          }\r\n        })\r\n        .then(result => {\r\n          let currentUrl = result.data.data[0].url;\r\n          if(result.data.code == 200) {\r\n            this.$toast.clear();\r\n            item.songUrl = currentUrl;\r\n            item.picUrl = item.al.picUrl;\r\n\r\n            // 设置当前播放的歌曲\r\n            this.$store.commit('setCurrentSong',item);\r\n            // 播放状态\r\n            this.$store.commit('playStatus',true);\r\n            \r\n            // 设置播放列表 并判断是否添加了同一首歌\r\n              this.$store.dispatch('HandlePlayList',item);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$toast.clear();\r\n          \r\n        })\r\n      },\r\n\r\n      // 记录搜索历史\r\n      setHistory(keyword){\r\n        // 检查有无搜索记录\r\n        if(this.historyList.length==0){\r\n          this.historyList.unshift(keyword);\r\n        }else if(!this.historyList.includes(keyword)){\r\n          this.historyList.unshift(keyword);\r\n        }\r\n        else{\r\n          let i = this.historyList.indexOf(keyword);\r\n          this.historyList.splice(i,1)\r\n          this.historyList.unshift(keyword);\r\n        }\r\n        localStorage.setItem('historyList',JSON.stringify(this.historyList));\r\n\r\n      }\r\n\r\n\r\n\r\n      }\r\n  }\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=fddd54fe&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}